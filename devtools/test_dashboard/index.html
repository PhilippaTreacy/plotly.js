<!DOCTYPE html>
<html>
  <head>
    <title>Plotly.js Devtools</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="//fonts.googleapis.com/css?family=Open+Sans:600,400,300,200|Droid+Sans|PT+Sans+Narrow|Gravitas+One|Droid+Sans+Mono|Droid+Serif|Raleway|Old+Standard+TT"
    />
    <link rel="stylesheet" type="text/css" href="./style.css" />
  </head>
  <body>
    <header>
      <img
        src="http://images.plot.ly/logo/plotlyjs-logo@2x.png"
        onClick="Tabs.reload();"
      />
      <span id="reload-time"></span>

      <input id="mocks-search" type="text" placeholder="mocks search" />
      <input id="css-transform" type="text" placeholder="css transform" />
    </header>

    <section id="mocks-list"></section>
    <div id="plots">
      <div id="graph">
        <div id="tester" style="width: 600px; height: 250px"></div>
      </div>
    </div>
    <div id="snapshot"></div>

    <script src="../../node_modules/mathjax-v2/MathJax.js?config=TeX-AMS-MML_SVG"></script>
    <script charset="utf-8" id="source" src="../../build/plotly.js">
      // type="module"
      // import Plotly from "../../build/plotly.js"
    </script>
    <script charset="utf-8" src="../../build/test_dashboard-bundle.js"></script>
    <script>
      function zipArrays(arrays) {
        var zipped = arrays[0].map(function (e, i) {
          var row = [];
          arrays.map(function (arr) {
            row.push(arr[i]);
          });
          return row;
        });
        return zipped;
      }

      function sortObjecstByKey(a, b, key) {
        if (a[key] === b[key]) return 0;
        if (a[key] < b[key]) return -1;
        return 1;
      }

      function matrixToObjectList(matrix, cols) {
        var zipped = zipArrays(matrix);

        var objList = [];

        zipped.forEach(function (row) {
          var objRow = {};
          cols.forEach(function (col, idx) {
            objRow[col] = row[idx];
          });
          objRow.y = row.at(-1);
          objList.push(objRow);
        });
        return objList;
      }

      exports.matrixToObjectList = matrixToObjectList;

      function sortObjectList(cols, objList) {
        var sortedObjectList = objList.map(function (e) {
          return e;
        });
        cols.reverse().forEach(function (key) {
          sortedObjectList = sortedObjectList.sort(function (a, b) {
            return sortObjecstByKey(a, b, key);
          });
        });
        return sortedObjectList;
      }

      exports.sortObjectList = sortObjectList;

      function objectListToList(objectList) {
        var list = [];
        objectList.forEach(function (item) {
          list.push(Object.values(item));
        });
        return list;
      }

      exports.objectListToList = objectListToList;

      function sortedMatrix(list) {
        var xs = [];
        var y = [];

        list.slice().forEach(function (item) {
          y.push(item.pop());
          xs.push(item);
        });

        return [xs, y];
      }

      exports.sortedMatrix = sortedMatrix;

      function transpose(matrix) {
        var width = matrix[0].length;
        var newMatrix = [];

        // prevent inplace change
        for (var row = 0; row < matrix.length; row++) {
          newMatrix.push(matrix[row].slice());
        }

        for (var i = 0; i < newMatrix.length; i++) {
          for (var j = 0; j < i; j++) {
            newMatrix = newMatrix.slice();
            var temp = newMatrix[i][j];
            newMatrix[i][j] = newMatrix[j][i];
            newMatrix[j][i] = temp;
          }
        }

        newMatrix = newMatrix.slice(0, width);
        return newMatrix;
      }

      function sortTrace(xs) {


      }
    </script>
    <script>
      let fullData = [
        {
          x: [
            ["AA", "AA", "AA", "BB"],
            //  "DD", "DD", "DD", "DD", "BB", "BB"],
            ["DD", "CC", "DD", "DD"],
            ["2", "1", "3", "4"],
            // "VV", "MM", "AA"],
          ],
          y: [10, 8, 11, 12],
          line: {
            color: "orange",
            width: 3,
          },
          //  14, 17, 8, 10, 10, 9],
          // type: "bar",
        },
        {
          x: [
            ["AA", "AA", "AA", "BB"],
            //  "DD", "DD", "DD", "DD", "BB", "BB"],
            ["DD", "CC", "DD", "DD"],
            ["2", "1", "3", "4"],
            // "VV", "MM", "AA"],
          ],
          y: [12, 10, 13, 14],
          line: {
            color: "blue",
            width: 3,
          },
          //  14, 17, 8, 10, 10, 9],
          // type: "bar",
        },
      ];

      TESTER = document.getElementById("tester");
      // Plotly.newPlot(TESTER, fullData, {
      //   margin: { t: 0 },
      // });
    </script>
    <script>
      let x1 = [
        1234, 1234, 1234, 2222, 3333, 4444, 4444, 2222, 3333, 4444, 4444, 1234,
        2222, 3333, 3333, 4444, 4444, 1234, 1234, 1234, 2222, 2222, 4444, 4444,
        4444,
      ];

      let x2 = [
        1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.2, 1.25, 1.25, 1.25, 1.1, 1.1, 1.1,
        1.1, 1.1, 1.1, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.25,
      ];

      let y = [
        74.794746, 73.263952, 73.175294, 89.929494, 87.071843, 78.117551,
        76.690038, 85.818503, 97.373488, 76.747523, 73.172017, 68.891727,
        79.342691, 84.390967, 82.548122, 70.278573, 72.255796, 74.747855,
        73.312634, 70.067858, 81.736596, 84.71945, 80.099938, 82.208555,
        74.795867,
      ];

      var trace1 = {
        x: [x1, x2],

        y: y.slice(0, 13),
        type: "box",
      };

      var trace2 = {
        x: [x1, x2],

        y: y.slice(12, 25),
        type: "box",
      };

      var data = [trace1];

      // Plotly.newPlot("tester", data);
    </script>
    <script>
      var trace1 = {
        // x: [
        //   ["SF Zoo", "SF Zoo", "SF Zoo", "LA Zoo"]
        //   //  "LA Zoo", "LA Zoo"],
        //   [
        //     "giraffes",
        //     "orangutans",
        //     "monkeys",
        //     "giraffes"
        //   ],
        //     // "orangutans",
        //     // "monkeys",
        // ],
        // y: [20, 14, 23, 12]
        //  18, 29],
        // name: "SF Zoo",
        // type: "bar",
        x: [
          ["AA", "AA", "AA", "BB"],
          ["CC", "DD", "EE", "CC"],
        ],

        y: [12, 10, 13, 14],
      };

      trace = {
        x: [
          ["AA", "AA", "AA", "BB"],
          ["CC", "DD", "FF", "CC"],
        ],

        y: [12, 10, 13, 14],
      };

      // var trace2 = {
      //   x: [
      //     ["LA Zoo", "LA Zoo", "LA Zoo"],
      //     ["giraffes", "orangutans", "monkeys"],
      //   ],
      //   y: [12, 18, 29],
      //   name: "LA Zoo",
      //   // type: "bar",
      // };

      var data = [trace1];
      var layout = {
        // showlegend: false,
        // xaxis: {
        //   tickson: "boundaries",
        //   ticklen: 15,
        //   showdividers: true,
        //   dividercolor: "grey",
        //   dividerwidth: 2,
        // },
      };

      Plotly.newPlot("tester", data);
    </script>
  </body>
</html>
